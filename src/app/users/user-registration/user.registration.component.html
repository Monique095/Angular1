<!-- Angular Reactive Form: -->
<div class="card">
    <div class="card-header">
        {{pageTitle}}
    </div>
    <div class="card-body">
        <form novalidate (ngSubmit)="save()" [formGroup]="customerForm">
            <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label" for="firstNameId">First Name</label>
                <div class="col-md-8">
                    <input class="form-control" id="firstNameId" type="text" placeholder="First Name" formControlName="firstName" [ngClass]="{'is-invalid': (customerForm.get('firstName').touched || 
                    customerForm.get('firstName').dirty) && 
                    !customerForm.get('firstName').valid }" />
                    <span class="invalid-feedback">
                    <span *ngIf="customerForm.get('firstName').errors?.required">
                    Please enter your first name.
                    </span>
                    <span *ngIf="customerForm.get('firstName').errors?.minlength">
                    The first name must be longer than 3 characters.
                    </span>
                    </span>
                </div>
            </div>
            <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label" for="lastNameId">Last Name</label>
                <div class="col-md-8">
                    <input class="form-control" id="lastNameId" type="text" placeholder="Last Name" formControlName="lastName" [ngClass]="{'is-invalid': (customerForm.get('lastName').touched || 
                    customerForm.get('lastName').dirty) && 
                    !customerForm.get('lastName').valid }" />
                    <span class="invalid-feedback">
                    <span *ngIf="customerForm.get('lastName').errors?.required">
                    Please enter your last name.
                    </span>
                    <span *ngIf="customerForm.get('lastName').errors?.maxlength">
                    The last name must be less than 50 characters.
                    </span>
                    </span>
                </div>
            </div>
            <div formGroupName="emailGroup">
                <div class="form-group row mb-2">
                    <label class="col-md-2 col-form-label " for="emailId ">Email</label>
                    <div class="col-md-8 ">
                        <input type="email" class="form-control" id="emailId" placeholder="Email" formControlName="email" [ngClass]="{ 'is-invalid': customerForm.get( 'emailGroup').errors || ((customerForm.get(
                        'emailGroup.email').touched || customerForm.get( 'emailGroup.email').dirty) && !customerForm.get( 'emailGroup.email').valid) } " />
                        <span class="invalid-feedback ">
                        <span *ngIf="customerForm.get( 'emailGroup.email').errors?.required ">
                            Please enter your email address.
                        </span>
                        <span *ngIf="customerForm.get( 'emailGroup.email').errors?.email ">
                            Please enter a valid email address
                        </span>
                        </span>
                    </div>
                </div>
                <div class="form-group row mb-2">
                    <label class="col-md-2 col-form-label" for="confirmEmailId">Confirm Email</label>
                    <div class="col-md-8">
                        <input type="email" class="form-control" id="confirmEmailId" placeholder="Confirm Email" formControlName="confirmEmail" [ngClass]="{ 'is-invalid': customerForm.get( 'emailGroup').errors || 
                        ((customerForm.get('emailGroup.confirmEmail').touched || 
                        customerForm.get( 'emailGroup.confirmEmail').dirty) && 
                        !customerForm.get( 'emailGroup.confirmEmail').valid) } " />

                        <span class="invalid-feedback ">
                        <span *ngIf="customerForm.get( 'emailGroup.confirmEmail').errors?.required ">
                        Please confirm your email again.
                        </span>
                        <span *ngIf="customerForm.get( 'emailGroup').errors?.match ">
                        The Confirmation does not match the email.
                        </span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="form-group row mb-2">
                <label class="col-md-2 col-form-label" for="phoneId">Phone Number</label>
                <div class="col-md-8">
                    <input class="form-control" id="phoneId" type="text" placeholder="Phone Number" formControlName="phone" [ngClass]="{'is-invalid': (customerForm.get('phone').touched || 
                    customerForm.get('phone').dirty) && 
                    !customerForm.get('phone').valid }" />
                    <span class="invalid-feedback">
                    <span *ngIf="customerForm.get('phone').errors?.required">
                        Please enter your phone number.
                    </span>
                    <span *ngIf="customerForm.get('phone').errors?.maxlength">
                        Phone number must be 10 numbers.
                    </span>
                    <span *ngIf="customerForm.get('phone').errors?.minlength">
                        Phone number must be 10 numbers.
                    </span>
                    </span>
                </div>
            </div>
            <div formGroupName="passwordGroup">
                <div class="form-group row mb-2">
                    <label class="col-md-2 col-form-label " for="passwordId ">Password</label>
                    <div class="col-md-8 ">
                        <input type="password" class="form-control" id="passwordId" placeholder="Password" formControlName="password" [ngClass]="{ 'is-invalid': customerForm.get( 'passwordGroup').errors || ((customerForm.get(
                        'passwordGroup.password').touched || customerForm.get( 'passwordGroup.password').dirty) && !customerForm.get( 'passwordGroup.password').valid) } " />
                        <span class="invalid-feedback ">
                        <span *ngIf="customerForm.get( 'passwordGroup.password').errors?.required ">
                            Please enter your password.
                        </span>
                        <span *ngIf="customerForm.get( 'passwordGroup.password').errors?.minlength ">
                            Password must be longer than 3 characters.
                        </span>
                        </span>
                    </div>
                </div>
                <div class="form-group row mb-2">
                    <label class="col-md-2 col-form-label" for="confirmPasswordId">Confirm Password</label>
                    <div class="col-md-8">
                        <input type="password" class="form-control" id="confirmPasswordId" placeholder="Confirm Password" formControlName="confirmPassword" [ngClass]="{ 'is-invalid': customerForm.get( 'passwordGroup').errors || 
                        ((customerForm.get('passwordGroup.confirmPassword').touched || 
                        customerForm.get( 'passwordGroup.confirmPassword').dirty) && 
                        !customerForm.get( 'passwordGroup.confirmPassword').valid) } " />

                        <span class="invalid-feedback ">
                        <span *ngIf="customerForm.get( 'passwordGroup.confirmPassword').errors?.required ">
                        Please confirm your password again.
                        </span>
                        <span *ngIf="customerForm.get( 'passwordGroup').errors?.match ">
                        The Confirmation does not match the password.
                        </span>
                        </span>
                    </div>
                </div>
            </div>
            <div class="form-group row mb-2 ">
                <div class="offset-md-2 col-md-4 ">
                    <button class="btn btn-primary mr-3 " type="submit " style="width:90px " [title]="customerForm.valid ? 'Save your entered data' : 'Disabled until the form data is valid' " [disabled]="!customerForm.valid ">
                        Register
                    </button>
                    <button class="btn btn-outline-primary " type="button " (click)="goToLoginPage() ">
                        Login
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>